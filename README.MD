# Desafio Implementador Fullstack

- In√≠cio em: 10/08/2020 √†s 12:00
- Entregue em: 14/08/2020 √†s 22:00

## Introdu√ß√£o

Devido ao curto tempo dispon√≠vel que eu tive para o desafio durante essa semana, tive que escolher deixar algumas coisas de fora. O crit√©rio que eu usei foi: dar aten√ß√£o √†s coisas que eu ainda N√ÉO sabia, e deixar em segundo plano o que eu J√Å sei. Me dedicar ao que eu j√° sei n√£o representaria muito aprendizado.

Por exemplo: eu ~~ainda~~ n√£o tenho familiaridade com Spring e Docker. Eu sabia da exist√™ncia deles e tudo mais, mas nunca havia utilizado na pr√°tica. Ent√£o resolvi come√ßar por eles. E aprendi muito (eu j√° sei que Docker vou usar pra sempre). J√° React e desenvolvimento web no geral, eu j√° domino. Ent√£o optei por deixar em segundo plano. At√© mesmo utilizei Material UI, que vem com praticamente todos os componentes visuais e responsividade prontos, aliados ao design system j√° validado da Google.

Algo interessante que fiz foi utilizar o VSCode para o desenvolvimento em Java, algo que nunca havia feito. At√© ent√£o, s√≥ utilizava Eclipse. Inclusive, utilizei a ferramenta a extens√£o Spring Initializr do VSCode para dar start no back-end (HIPER √öTIL).

J√° com rela√ß√£o aos testes automatizados, fiquei dividido. Conhe√ßo bem testes automatizados em React e Node. Mas eles de fato tomam mais tempo do que conhecimento em si. E tempo era algo que eu n√£o tinha. Ainda assim, testes automatizados com Spring, eu nunca havia feito. Infelizmente n√£o houve tempo h√°bil para acrescentar.

Eu utilizei MobX no lugar de Redux, porque o MobX n√£o imp√µe um arquitetura r√≠gida de implementa√ß√£o, o que faz ele ser muito mais r√°pido e flex√≠vel de usar. O front-end e o back-end se comunicam apenas por meio de APIs. O login √© s√≥ fict√≠cio. E devido ao tempo, deixei a possibilidade de apenas uma pessoa fazer um parecer no processo. Como de costume, procurei deixar o c√≥digo o mais leg√≠vel e √≥bvio poss√≠vel, dispensando coment√°rios inline. N√£o houve tempo h√°bil para fazer uma documenta√ß√£o do sistema.

Ah, deixei no final alguns links das refer√™ncias que utilizei. ü§ú

## Depend√™ncias

Docker (no meu caso, o Docker Desktop do Windows)

## Como rodar

_**Opcional:** como eu ainda n√£o tenho familiaridade com Docker, usei bastante o seguinte comando para zerar todas as imagens e containers que eu criava at√© finalmente acertar a configura√ß√£o correta. Cuidado se voc√™ j√° usa Docker e tem imagens e/ou containers de outros projetos, pois ser√£o apagados tamb√©m._

```
docker system prune -a -f
```

Agora sim! Primeiro inicie o Docker, e ent√£o execute os seguintes comandos, um por um, na raiz do projeto:

1. ### Banco de dados MySQL

```
docker build -t mysql-image-softplan-desafio-fullstack-jonathan-seibt -f db/Dockerfile .
```

```
docker run -d -v "/$(pwd)/db/mysql/data:/var/lib/mysql" -p 3306:3306 --rm --name mysql-container-softplan-desafio-fullstack-jonathan-seibt mysql-image-softplan-desafio-fullstack-jonathan-seibt
```

```
docker exec -i mysql-container-softplan-desafio-fullstack-jonathan-seibt mysql -uroot -psoftplan < db/startup.sql
```

2. ### Back-end Sprint Boot

```
cd backend && mvnw clean package && cd ..
```

```
cd backend && docker build -t spring-boot-image-softplan-desafio-fullstack-jonathan-seibt . && cd ..
```

```
docker run -d -v "/$(pwd)/backend:/home/spring-boot-softplan-desafio-fullstack-jonathan-seibt" -p 8080:8080 --link mysql-container-softplan-desafio-fullstack-jonathan-seibt --rm --name spring-boot-container-softplan-desafio-fullstack-jonathan-seibt spring-boot-image-softplan-desafio-fullstack-jonathan-seibt
```

3. ### Front-end React

```
cd frontend && docker build -t react-image-softplan-desafio-fullstack-jonathan-seibt . && cd ..
```

```
docker run -d -v "/$(pwd)/frontend:/home/react-softplan-desafio-fullstack-jonathan-seibt" -p 80:80 --rm --name react-container-softplan-desafio-fullstack-jonathan-seibt react-image-softplan-desafio-fullstack-jonathan-seibt
```

4. ### Restaurar os usu√°rios cadastrados no banco de dados

```
docker exec -i mysql-container-softplan-desafio-fullstack-jonathan-seibt mysql -uroot -psoftplan < db/restore.sql
```

üëè Feito!

## Refer√™ncias utilizadas

- https://www.percona.com/blog/2019/11/19/installing-mysql-with-docker/
- https://github.com/programadorabordo/docker-introducao
- https://mkyong.com/docker/docker-spring-boot-examples/
- https://www.treinaweb.com.br/blog/criando-uma-api-rest-com-o-spring-boot/
- https://levelup.gitconnected.com/dockerizing-a-react-application-using-nginx-and-react-router-43154cc8e58c
- https://github.com/atmosmps/dockerized-react-app
